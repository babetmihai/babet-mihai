(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[4],{384:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068",layout:"layout_layout__2Di8Z",content:"layout_content__1tRbt",navbar:"layout_navbar__3F1jw",left:"layout_left__2E0aL",right:"layout_right__1PAIO",link:"layout_link__31m6J",backButton:"layout_backButton__fRNgI"}},399:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068",authPage:"auth_authPage__1RDmX",card:"auth_card__26Jra",form:"auth_form__1UpLr",button:"auth_button__SzWfd",link:"auth_link__1E_b_"}},433:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068",pacients:"Pacients_pacients__oItG4",header:"Pacients_header__aEzg-",search:"Pacients_search__VNUA0",statusTags:"Pacients_statusTags__2iC0r",statusTag:"Pacients_statusTag__2SIkL",list:"Pacients_list__1cp25",loadMore:"Pacients_loadMore__3pBQK",pacient:"Pacients_pacient__BAtDX",card:"Pacients_card__1KoOz",description:"Pacients_description__1eRdo",actions:"Pacients_actions__1u2VR",action:"Pacients_action__bRYH_",status:"Pacients_status__1IggV",link:"Pacients_link__3z6PX"}},541:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068"}},546:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068",medicalCases:"MedicalCases_medicalCases__LJn8m",header:"MedicalCases_header__7AWy8",search:"MedicalCases_search__225EB",list:"MedicalCases_list__1F2xA",loadMore:"MedicalCases_loadMore__2DZ33",medicalCase:"MedicalCases_medicalCase__134ed",card:"MedicalCases_card__3Aap7",symptoms:"MedicalCases_symptoms__bd_a1",symptom:"MedicalCases_symptom__OIFau",actions:"MedicalCases_actions__3zgkm",action:"MedicalCases_action__3npTn",statusTags:"MedicalCases_statusTags__2riQW",statusTag:"MedicalCases_statusTag__1RWpv",status:"MedicalCases_status__3YP7Y"}},549:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068",medicalCase:"MedicalCase_medicalCase__2VrMG",link:"MedicalCase_link__2bs5X",header:"MedicalCase_header__30xU4",left:"MedicalCase_left__2ChlE",right:"MedicalCase_right__2jAGf",title:"MedicalCase_title__X3_HJ",info:"MedicalCase_info__2Me6e",chat:"MedicalCase_chat__vtct_",list:"MedicalCase_list__tKWiB",symptoms:"MedicalCase_symptoms__3T1z0",doctors:"MedicalCase_doctors__N4VNg",medicalRecords:"MedicalCase_medicalRecords__2wJTH",message:"MedicalCase_message__LE78G",current:"MedicalCase_current__b6_WS",compact:"MedicalCase_compact__48Kuq",fileCard:"MedicalCase_fileCard__3lsCd",doctorCard:"MedicalCase_doctorCard__1TDAc"}},550:function(e,a,t){e.exports={primary:"#1890ff",error:"#e36209",background:"#f6f8fa",success:"#87d068",pacient:"Pacient_pacient__1dLnc",header:"Pacient_header__1eqSw",title:"Pacient_title__1Ddpe",right:"Pacient_right__2uAX4",grid:"Pacient_grid__6BxJs",picture:"Pacient_picture__3Tcph",medicalProfile:"Pacient_medicalProfile__3Dkal",medicalInfo:"Pacient_medicalInfo__uDS-K",statistics:"Pacient_statistics__17bX1",link:"Pacient_link__2PrMH"}},571:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return Na}));var n=t(0),c=t.n(n),r=t(116),l=t(76),s=t(361),i=t(384),o=t.n(i),m=t(570),u=t(79),d=t(465),f=t(585),p=t(580),_=t(575),E=t(577),b=t(582);function v(e){var a=e.className,t=e.style,n=Object(b.a)().t,s=Object(r.b)((function(){return Object(l.i)()})),i=Object(l.b)(s).initials;return c.a.createElement(p.a,{trigger:["click"],placement:"topRight",arrow:!0,overlay:c.a.createElement(_.a,{className:o.a.menu},c.a.createElement(_.a.Item,{onClick:function(){return Object(l.f)()}},c.a.createElement(f.a,null),n("logout")))},c.a.createElement(E.a,{className:Object(d.a)(o.a.userMenu,a),style:Object(u.a)(Object(u.a)({},t),{},{cursor:"pointer"}),src:Object(l.d)(s)},i))}var g=t(460),h=t(42),y=t(586),C=t(587),k=t(584);function O(){return c.a.createElement(m.a,{size:"small",className:o.a.navbar},c.a.createElement("div",{className:o.a.left},c.a.createElement(g.a,{className:o.a.link,icon:c.a.createElement(y.a,null),onClick:function(){return h.a.push("/")}}),c.a.createElement(g.a,{className:o.a.link,icon:c.a.createElement(C.a,null),onClick:function(){return h.a.push("/pacients")}}),c.a.createElement(g.a,{className:o.a.link,icon:c.a.createElement(k.a,null),onClick:function(){return h.a.push("/cases")}})),c.a.createElement("div",{className:o.a.right},c.a.createElement(v,null)))}var j=t(21),N={},w=function(){return j.a.delete("modal")};function x(){var e=Object(r.b)((function(){return j.a.get("modal",N)})),a=e.Component,t=e.props,n=void 0===t?{}:t,l=n.onCancel,s=void 0===l?w:l;return c.a.useEffect((function(){return h.a.listen((function(){a&&w()}))}),[a]),a?c.a.createElement(a,Object.assign({},n,{onCancel:s})):null}var M=t(32),P=t(365);function S(e){var a=e.children,t=Object(r.b)((function(){return Object(l.h)()})).authenticated,n=Object(r.b)((function(){return Object(M.b)("initializing")}));return c.a.createElement("main",{className:o.a.layout},t&&c.a.createElement(O,null),c.a.createElement("div",{className:o.a.content},n&&c.a.createElement(P.a,{className:"centered"}),!n&&c.a.createElement(c.a.Fragment,null,a)),c.a.createElement(x,null))}var T=t(572),z=t(576),I=t(391),B=t(399),A=t.n(B);function R(){var e=Object(b.a)().t,a=Object(r.b)((function(){return Object(M.b)("loggingIn")})),t=Object(I.a)({initialValues:{email:"",password:""},onSubmit:function(e){return Object(l.e)(e)}}),n=t.values,s=t.errors,i=t.handleChange,o=t.handleSubmit;return c.a.createElement("div",{className:A.a.authPage},c.a.createElement(m.a,{title:e("login"),className:A.a.card,size:"small",bodyStyle:{display:"flex",flexDirection:"column"}},c.a.createElement(T.a,{layout:"vertical",className:A.a.form},c.a.createElement(T.a.Item,{label:e("email"),validateStatus:s.email&&"error",help:s.email},c.a.createElement(z.a,{id:"email",value:n.email,onChange:i})),c.a.createElement(T.a.Item,{label:e("password"),validateStatus:s.password&&"error",help:s.password},c.a.createElement(z.a.Password,{id:"password",value:n.password,onChange:i}),c.a.createElement(g.a,{type:"link",size:"small",className:A.a.link,onClick:function(){return h.a.push("/forgot-password")}},e("forgot_password"))),c.a.createElement(g.a,{style:{marginTop:0},type:"primary",onClick:o,className:A.a.button,loading:a},e("login")))))}var D=t(53),F=t.n(D);function L(){var e=Object(b.a)().t,a=Object(r.b)((function(){return Object(M.b)("resettingPassword")})),t=Object(s.f)().search,n=F.a.parse(t,{ignoreQueryPrefix:!0}).code;c.a.useEffect((function(){Object(l.f)()}),[]);var i=Object(I.a)({initialValues:{password:"",confirm:""},onSubmit:function(e){return Object(l.g)(Object(u.a)(Object(u.a)({},e),{},{code:n}))}}),o=i.values,d=i.errors,f=i.handleChange,p=i.handleSubmit;return c.a.createElement("div",{className:A.a.authPage},c.a.createElement(m.a,{className:A.a.card,title:e("reset_password"),size:"small",bodyStyle:{display:"flex",flexDirection:"column"}},c.a.createElement(T.a,{layout:"vertical",className:A.a.form},c.a.createElement(T.a.Item,{label:e("new_password"),validateStatus:d.passowrd&&"error",help:d.passowrd},c.a.createElement(z.a.Password,{id:"password",value:o.password,onChange:f})),c.a.createElement(T.a.Item,{label:e("confirm_password"),validateStatus:d.confirm&&"error",help:d.confirm},c.a.createElement(z.a.Password,{id:"confirm",value:o.confirm,onChange:f})),c.a.createElement(g.a,{style:{marginTop:0},type:"primary",onClick:p,className:A.a.button,loading:a},e("reset")))))}function V(){var e=Object(b.a)().t,a=Object(r.b)((function(){return Object(M.b)("forgettingPassword")}));c.a.useEffect((function(){Object(l.f)()}),[]);var t=Object(I.a)({initialValues:{email:""},onSubmit:function(e){return Object(l.a)(e)}}),n=t.values,s=t.errors,i=t.handleChange,o=t.handleSubmit;return c.a.createElement("div",{className:A.a.authPage},c.a.createElement(m.a,{className:A.a.card,title:e("forgot_password"),size:"small",bodyStyle:{display:"flex",flexDirection:"column"}},c.a.createElement(T.a,{layout:"vertical",className:A.a.form},c.a.createElement(T.a.Item,{label:e("email"),validateStatus:s.email&&"error",help:s.email},c.a.createElement(z.a,{id:"email",value:n.email,onChange:i})),c.a.createElement(g.a,{style:{marginTop:0},type:"primary",onClick:o,className:A.a.button,loading:a},e("send_email")),c.a.createElement(g.a,{onClick:function(){return h.a.push("/")}},e("back_to_login")))))}function H(){return c.a.createElement("div",null,"home")}function J(){return c.a.createElement("div",null,"not_found")}var X=t(383),Y=t(78),W=t.n(Y),q=t(588),G=t(589),K=t(590),Q=t(591),U=t(592),Z=t(593),$=t(566),ee=t(594),ae=t(10),te=t.n(ae),ne=t(581),ce=t(578),re=t(573),le=t(390),se=t.n(le),ie=t(12),oe=t.n(ie),me=t(28),ue=t(561),de=t(27),fe=t.n(de),pe=t(39),_e=t(411),Ee=t(477),be=t.n(Ee),ve={},ge=function(e,a){var t=a.count,n=a.params,c=void 0===n?{}:n,r=a.data,l=c._start,s=void 0===l?0:l,i=c._limit,o=void 0===i?99:i,m=Object(_e.a)(c,["_start","_limit"]);j.a.update(e,r.reduce((function(e,a){return e[a.id]=a,e}),{})),j.a.set("pagination.".concat(e,".").concat(be()(m),".count"),t),j.a.set("pagination.".concat(e,".").concat(be()(m),".ids.").concat(o,".").concat(s),r.map((function(e){return e.id})))},he=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a._start,n=void 0===t?0:t,c=a._limit,l=void 0===c?99:c,s=Object(_e.a)(a,["_start","_limit"]),i=Object(r.b)((function(){return j.a.get("pagination.".concat(e,".").concat(be()(s)),ve)})),o=i.ids,m=i.count,u=Object(r.b)((function(){return j.a.get(e,ve)})),d=te.a.uniq(Object.entries(te.a.get(o,l,{})).filter((function(e){var a=Object(X.a)(e,1)[0];return Number(a)<=n})).map((function(e){var a=Object(X.a)(e,2);a[0];return a[1]})).flat()).map((function(e){return te.a.get(u,e)})).filter(Boolean);return{data:u,count:m,list:d}},ye={},Ce=function(){var e=Object(me.a)(oe.a.mark((function e(a){var t,n,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(M.c)("fetchingPacients"),e.next=4,fe.a.get("/doctor-patients",{params:a}).then((function(e){return e.data}));case 4:t=e.sent,n=t.count,c=t.data,ge("pacients",{count:n,data:c,params:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ue.b.error(pe.a.t(e.t0.message));case 13:return e.prev=13,Object(M.a)("fetchingPacients"),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(me.a)(oe.a.mark((function e(a){var t,n,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.userId,e.prev=1,Object(M.c)("fetchingPacients"),e.next=5,fe.a.get("/doctor-patients",{params:{"user.id_eq":t}}).then((function(e){return e.data}));case 5:n=e.sent,c=n.data,j.a.update("pacients",c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ue.b.error(pe.a.t(e.t0.message));case 13:return e.prev=13,Object(M.a)("fetchingPacients"),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(a){return e.apply(this,arguments)}}(),Oe=t(433),je=t.n(Oe),Ne=t(400),we=t.n(Ne),xe=z.a.TextArea;function Me(e){var a=e.entity,t=e.onOk,n=e.onCancel,r=void 0===n?w:n,l=Object(b.a)().t,s=c.a.useState(),i=Object(X.a)(s,2),o=i[0],m=i[1],u=Object(I.a)({initialValues:te.a.pick(a,["notes"]),onSubmit:function(){var e=Object(me.a)(oe.a.mark((function e(a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,t(a);case 4:w(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ue.b.error(l(e.t0.message));case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(a){return e.apply(this,arguments)}}()}),d=u.values,f=u.handleChange,p=u.handleSubmit;return c.a.createElement(we.a,{visible:!0,keyboard:!1,maskClosable:!1,title:l("notes"),onCancel:r,onOk:p,okButtonProps:{loading:o}},c.a.createElement(T.a,{layout:"vertical",className:je.a.modalForm},c.a.createElement(T.a.Item,{htmlFor:"notes",style:{marginRight:10}},c.a.createElement(xe,{id:"notes",rows:6,value:te.a.get(d,"notes",""),onChange:f}))))}var Pe=t(363),Se=t(541),Te=t.n(Se),ze={},Ie={active:Te.a.success,pending:Te.a.primary},Be={},Ae=function(){var e=Object(me.a)(oe.a.mark((function e(a){var t,n,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(M.c)("fetchingCases"),e.next=4,fe.a.get("/cases",{params:a}).then((function(e){return e.data}));case 4:t=e.sent,n=t.data,c=t.count,ge("medicalCases",{data:n,count:c,params:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ue.b.error(pe.a.t(e.t0.message));case 13:return e.prev=13,Object(M.a)("fetchingCases"),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(me.a)(oe.a.mark((function e(a){var t,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.medicalCaseId,e.prev=1,Object(M.c)("fetchingCase"),e.next=5,fe.a.get("/cases/".concat(t)).then((function(e){return e.data}));case 5:n=e.sent,j.a.set("medicalCases.".concat(t),n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ue.b.error(pe.a.t(e.t0.message));case 12:return e.prev=12,Object(M.a)("fetchingCase"),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(a){return e.apply(this,arguments)}}(),De=function(){var e=Object(me.a)(oe.a.mark((function e(a){var t,n,c,r,l;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.medicalCaseId,n=Object(_e.a)(a,["medicalCaseId"]),e.prev=1,Object(M.c)("fetchingMessages"),e.next=5,fe.a.get("/messages/".concat(t),{params:n}).then((function(e){return e.data}));case 5:c=e.sent,r=c.count,l=c.data,ge("messages.".concat(t),{data:l,count:r,params:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),ue.b.error(pe.a.t(e.t0.message));case 14:return e.prev=14,Object(M.a)("fetchingMessages"),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(me.a)(oe.a.mark((function e(){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(M.c)("fetchingSpecialities"),e.next=4,fe.a.get("/specialities",{method:"GET"}).then((function(e){return e.data.reduce((function(e,a){return e[a.id]=a,e}),{})}));case 4:a=e.sent,j.a.set("specialities",a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ue.b.error(pe.a.t(e.t0.message));case 11:return e.prev=11,Object(M.a)("fetchingSpecialities"),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),Le=t(583);function Ve(){return c.a.createElement(g.a,{className:o.a.backButton,icon:c.a.createElement(Le.a,null),onClick:function(){return h.a.goBack()}})}var He=ne.a.CheckableTag;function Je(){var e=Object(b.a)().t,a=c.a.useState(0),t=Object(X.a)(a,2),n=t[0],l=t[1],i=Object(r.b)((function(){return Object(M.b)("fetchingPacients")})),o=Object(s.f)().search,d=c.a.useMemo((function(){return F.a.parse(o,{ignoreQueryPrefix:!0})}),[o]),f=function(e){return h.a.push("/pacients?".concat(F.a.stringify(te.a.pickBy(Object(u.a)(Object(u.a)({},d),e),Boolean))))},p=d.active,_=d.pending,E=d.searchTerm,v=c.a.useMemo((function(){return{_where:E&&{_or:[{email_contains:E},{"user.email_contains":E},{"user.firstName_contains":E},{"user.lastName_contains":E}]},active_eq:!!p,active_ne:!!_,_start:n,_limit:20}}),[d,n]),y=he("pacients",v),C=y.count,k=y.list;return c.a.useEffect((function(){Ce(v)}),[v]),c.a.createElement("div",{className:je.a.pacients},c.a.createElement(m.a,{size:"small",className:je.a.header},c.a.createElement(Ve,null),c.a.createElement(z.a.Search,{className:je.a.search,allowClear:!0,defaultValue:E,onSearch:function(e){return f({searchTerm:e})}}),c.a.createElement(g.a,{className:je.a.link,icon:c.a.createElement(q.a,null),onClick:function(){return e=Me,a={onOk:function(e){return console.log(e)}},j.a.set("modal",{Component:e,props:a});var e,a}}),c.a.createElement("div",{className:je.a.statusTags},c.a.createElement(He,{className:je.a.statusTag,checked:p,onClick:function(){return f({active:!p,pending:!1})}},e("active")),c.a.createElement(He,{className:je.a.statusTag,checked:_,onClick:function(){return f({active:!1,pending:!_})}},e("pending")))),i&&te.a.isEmpty(k)&&c.a.createElement(P.a,{className:"centered"}),!i&&te.a.isEmpty(k)&&c.a.createElement("div",{className:"centered"},c.a.createElement(ce.a,{title:e("no_pacients_found")})),!te.a.isEmpty(k)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:je.a.list},k.map((function(e){return e.user?c.a.createElement(Ye,{key:e.id,pacient:e}):c.a.createElement(Xe,{key:e.id,pacient:e})}))),C>k.length&&c.a.createElement("div",{className:je.a.loadMore},c.a.createElement(g.a,{loading:i,onClick:function(){return l((function(){return n+20}))}},e(i?"loading":"load_more")))))}function Xe(e){var a=e.pacient,t=Object(b.a)().t,n=a||{},r=n.email,l=n.createdAt;return c.a.createElement("div",{className:je.a.pacient},c.a.createElement(m.a,{className:je.a.card},c.a.createElement(m.a.Meta,{title:c.a.createElement(re.a.Text,null,r),description:c.a.createElement(c.a.Fragment,null,c.a.createElement(ne.a,{color:Ie.pending},t("pending")),c.a.createElement(ne.a,null,W()(l).format("LL")))})),c.a.createElement("div",{className:je.a.actions},c.a.createElement(g.a,{className:je.a.action,icon:c.a.createElement(G.a,null),onClick:function(){return console.log("view")}}),c.a.createElement(g.a,{className:je.a.action,icon:c.a.createElement(K.a,null),onClick:function(){return console.log("remove")}})))}function Ye(e){var a=e.pacient,t=Object(b.a)().t,n=a||{},r=n.user,s=n.createdAt,i=n.doctor,o=r||{},u=o.profile,d=o.email,f=(u||{}).picture,p=Object(l.b)(r),_=p.name,E=p.initials;return c.a.createElement("div",{className:je.a.pacient},c.a.createElement(m.a,{className:je.a.card},c.a.createElement(m.a.Meta,{avatar:c.a.createElement(se.a,{src:Object(l.c)(f),onClick:function(){return h.a.push("/profiles")}},E),title:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe.a,{to:"/profiles"},_),c.a.createElement(ne.a,{className:je.a.status,color:Ie.active},t("active")),c.a.createElement(ne.a,null,W()(s).format("LL"))),description:c.a.createElement("div",{className:je.a.description},c.a.createElement("span",null,c.a.createElement(Q.a,{style:{marginRight:5}}),"Email: ".concat(d)),c.a.createElement("span",null,c.a.createElement(U.a,{style:{marginRight:5}}),"Cases: ".concat(7)),i&&c.a.createElement("span",null,c.a.createElement(Z.a,{style:{marginRight:5}}),"Doctor: ".concat(i)))})),c.a.createElement("div",{className:je.a.actions},c.a.createElement(g.a,{className:je.a.action,icon:c.a.createElement($.a,null),onClick:function(){return h.a.push("/pacients/".concat(r.id))}}),c.a.createElement(g.a,{className:je.a.action,icon:c.a.createElement(k.a,null),onClick:function(){return h.a.push("/cases")}}),c.a.createElement(g.a,{className:je.a.action,icon:c.a.createElement(ee.a,null),onClick:function(){return console.log("medical records")}})))}var We=t(546),qe=t.n(We),Ge=t(547),Ke=t.n(Ge),Qe=ne.a.CheckableTag;function Ue(){var e=Object(b.a)().t,a=c.a.useState(0),t=Object(X.a)(a,2),n=t[0],l=t[1],i=Object(r.b)((function(){return Object(M.b)("fetchingCases")})),o=Object(s.f)().search,d=c.a.useMemo((function(){return F.a.parse(o,{ignoreQueryPrefix:!0})}),[o]),f=function(e){return h.a.push("/cases?".concat(F.a.stringify(te.a.pickBy(Object(u.a)(Object(u.a)({},d),e),Boolean))))},p=d.status,_=d.searchTerm,E=c.a.useMemo((function(){return{_where:_&&{_or:[{description_contains:_},{symptoms_contains:_}]},status:p,_start:n,_limit:20}}),[d,n]),v=he("medicalCases",E),y=v.count,C=v.list;return c.a.useEffect((function(){Ae(E)}),[E]),c.a.createElement("div",{className:qe.a.medicalCases},c.a.createElement(m.a,{size:"small",className:qe.a.header},c.a.createElement(Ve,null),c.a.createElement(z.a.Search,{className:qe.a.search,allowClear:!0,defaultValue:_,onSearch:function(e){return f({searchTerm:e})}}),c.a.createElement(Ze,{status:p,onClick:f})),i&&te.a.isEmpty(C)&&c.a.createElement(P.a,{className:"centered"}),!i&&te.a.isEmpty(C)&&c.a.createElement("div",{className:"centered"},c.a.createElement(ce.a,{title:e("no_cases_found")})),!te.a.isEmpty(C)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:qe.a.list},C.map((function(e){return c.a.createElement($e,{key:e.id,medicalCase:e})}))),y>C.length&&c.a.createElement("div",{className:qe.a.loadMore},c.a.createElement(g.a,{loading:i,onClick:function(){return l(n+20)}},e(i?"loading":"load_more")))))}function Ze(e){var a=e.onClick,t=e.status,n=Object(b.a)().t;return c.a.createElement("div",{className:qe.a.statusTags},["pending","active","closed"].map((function(e){var r=t===e;return c.a.createElement(Qe,{key:e,className:qe.a.statusTag,checked:r,onClick:function(){return a({status:r?void 0:e})}},n(e))})))}function $e(e){var a=e.medicalCase,t=Object(b.a)().t,n=a.id,r=a.createdAt,s=a.description,i=a.symptoms,o=a.status,u=a.doctor,d=Object(l.i)(),f=Object(l.b)(d),p=f.name,_=f.initials;return c.a.createElement("div",{className:qe.a.medicalCase},c.a.createElement(m.a,{className:qe.a.card},c.a.createElement(m.a.Meta,{className:qe.a.meta,description:c.a.createElement(c.a.Fragment,null,c.a.createElement(Ke.a,{lines:5,more:t("show_more"),less:t("show_less"),anchorClass:"",expanded:!1},s),i&&c.a.createElement("div",{className:qe.a.symptoms},i.split(",").filter(Boolean).map((function(e){return c.a.createElement(ne.a,{key:e,color:"magenta",className:qe.a.symptom},e)})))),avatar:c.a.createElement(se.a,{src:Object(l.d)(d),onClick:function(){return h.a.push("/profile")}},_),title:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe.a,{to:"/profile"},p),c.a.createElement(ne.a,{className:qe.a.status,color:Ie[o]},t(o)),c.a.createElement(ne.a,null,W()(r).format("LL")))})),c.a.createElement("div",{className:qe.a.actions},c.a.createElement(g.a,{className:qe.a.action,icon:c.a.createElement($.a,null),onClick:function(){return h.a.push("/cases/".concat(n))}}),u&&c.a.createElement(g.a,{className:qe.a.action,icon:c.a.createElement(Z.a,null),onClick:function(){return console.log("view")}})))}var ea=t(562),aa=t(595),ta=t(6),na=t.n(ta),ca=t(567),ra=t(568),la=t(393),sa=t(549),ia=t.n(sa),oa=t(579);var ma=c.a.memo((function(e){var a=e.label,t=e.value,n=Object(_e.a)(e,["label","value"]),r=te.a.castArray(t).filter(Boolean);return te.a.isEmpty(r)?null:c.a.createElement(oa.b,Object.assign({size:"small",layout:"horizontal"},n),r.map((function(e,t){return c.a.createElement(oa.b.Item,{key:t,label:te.a.get(te.a.castArray(a),t)},e)})))}));function ua(){var e=Object(b.a)().t,a=Object(r.b)((function(){return Object(l.i)()})),t=Object(s.g)().medicalCaseId,n=Object(r.b)((function(){return Object(M.b)("fetchingMessages")})),i=Object(r.b)((function(){return Object(M.b)("fetchingCase")}));c.a.useEffect((function(){Re({medicalCaseId:t})}),[t]);var o=c.a.useState(0),d=Object(X.a)(o,2),f=d[0],p=d[1],_=c.a.useMemo((function(){return{_sort:"createdAt:DESC",_start:f,_limit:20}}),[f]);c.a.useEffect((function(){De(Object(u.a)({medicalCaseId:t},_))}),[_,t]);var E=he("messages.".concat(t),_),v=E.count,y=E.list,C=Object(r.b)((function(){return function(e){return j.a.get("medicalCases.".concat(e),Be)}(t)}));if(i&&te.a.isEmpty(C))return c.a.createElement(P.a,{className:"centered"});if(!i&&te.a.isEmpty(C))return c.a.createElement("div",{className:"centered"},c.a.createElement(ce.a,{title:e("no_case_found")}));var k=C.status,O=C.level,N=C.symptoms,w=C.specialists,x=C.doctor,S=C.medical_records;return c.a.createElement("div",{className:ia.a.medicalCase},c.a.createElement(m.a,{size:"small",className:ia.a.header},c.a.createElement("div",{className:ia.a.left},c.a.createElement(Ve,null),c.a.createElement("div",{className:ia.a.title},"".concat(e("case"),": ").concat(t))),c.a.createElement("div",{className:ia.a.right},c.a.createElement(g.a,{className:ia.a.link,icon:c.a.createElement(Q.a,null),onClick:function(){return h.a.push("/profiles/".concat(C.user.id))}}),x&&c.a.createElement(g.a,{className:ia.a.link,icon:c.a.createElement(Z.a,null),onClick:function(){return h.a.goBack()}}))),c.a.createElement(m.a,{size:"small",className:ia.a.info,title:e("information")},c.a.createElement(ma,{label:e("status"),value:c.a.createElement(ne.a,{className:ia.a.tag},e(k))}),c.a.createElement(ma,{label:e("level"),value:O&&c.a.createElement(ne.a,{className:ia.a.tag},e(O))}),c.a.createElement(ma,{label:e("symptoms"),value:c.a.createElement("div",{className:ia.a.symptoms},N.split(",").filter(Boolean).map((function(e){return c.a.createElement(ne.a,{key:e,color:"magenta",className:ia.a.link},e)})))}),c.a.createElement(ma,{layout:"vertical",label:e("medical_records"),value:!te.a.isEmpty(S)&&c.a.createElement("div",{className:ia.a.medicalRecords},S.map((function(e){return c.a.createElement(_a,{key:e.id,medicalRecord:e})})))}),c.a.createElement(ma,{layout:"vertical",label:e("doctors"),value:x&&c.a.createElement("div",{className:ia.a.doctors},c.a.createElement(da,{doctor:x}),w.map((function(e){return c.a.createElement(da,{key:e.id,doctor:e})})))})),c.a.createElement(m.a,{size:"small",title:e("chat"),className:ia.a.chat},c.a.createElement("div",{className:ia.a.list},v>y.length&&c.a.createElement("div",null,c.a.createElement(ca.a,null,c.a.createElement(g.a,{size:"Small",type:"link",loading:n,onClick:function(){return p(f+20)}},e("show_more_messages")))),[{id:C.id,text:C.description,user:C.user,createdAt:C.createdAt}].concat(Object(ea.a)(te.a.orderBy(y,["createdAt","desc"]))).map((function(e,t,n){var r=te.a.get(e,"user.id"),l=te.a.get(n,"[".concat(t+1,"].user.id"));return c.a.createElement(fa,{key:e.id,message:e,compact:r===l,current:r===a.id})})))))}function da(e){var a=e.doctor,t=Object(b.a)().t,n=(a||{}).email,r=Object(l.b)(a),s=r.name,i=r.initials,o=te.a.get(a,"doctor_profile.speciality.key","generalist");return a?c.a.createElement(m.a,{size:"small",className:ia.a.doctorCard},c.a.createElement(m.a.Meta,{title:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe.a,{to:"/"},s),c.a.createElement(ne.a,{className:ia.a.tag},t(o))),avatar:c.a.createElement(se.a,{src:Object(l.d)(a)},i),description:n})):null}function fa(e){var a=e.message,t=e.compact,n=e.current,r=a.user,s=a.createdAt,i=a.medical_record,o=a.fileList,m=void 0===o?[]:o,u=a.text,d=a.type,f=a.payload,p=Object(l.b)(r),_=p.name,E=p.initials,b=te.a.first(m);return c.a.createElement("div",{className:na()(ia.a.message,n&&ia.a.current,t&&ia.a.compact)},c.a.createElement(ra.a,{author:c.a.createElement(Pe.a,{to:"/profile"},_),avatar:c.a.createElement(se.a,{src:Object(l.d)(r),alt:_},E),content:c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,u,c.a.createElement(ga,{type:d,payload:f})),c.a.createElement(pa,{file:b}),c.a.createElement(_a,{medicalRecord:i})),datetime:c.a.createElement(la.a,{title:W()(s).format("YYYY-MM-DD HH:mm:ss")},c.a.createElement("span",null,W()(s).fromNow()))}))}function pa(e){var a=e.file;if(!a)return null;var t="image"===te.a.get(a,"mime","").split("/")[0],n=Object(l.c)(a);return c.a.createElement(m.a,{size:"small",className:ia.a.fileCard},c.a.createElement(m.a.Meta,{size:"small",title:c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},a.name),description:"".concat(a.size,"kb"),avatar:c.a.createElement(se.a,{src:t&&n},c.a.createElement(aa.a,null))}))}function _a(e){var a=e.medicalRecord;if(!a)return null;var t=a.file,n=a.type,r=a.description,s=a.createdAt,i=Object(l.c)(t),o="image"===te.a.get(t,"mime","").split("/")[0];return c.a.createElement(m.a,{size:"small",className:ia.a.fileCard,title:r,extra:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null),c.a.createElement(ne.a,{className:ia.a.link,color:ze[n]},n),c.a.createElement(ne.a,{className:ia.a.link},W()(s).format("L")))},c.a.createElement(m.a.Meta,{size:"small",title:c.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},t.name),description:"".concat(t.size,"kb"),avatar:c.a.createElement(se.a,{src:o&&i},c.a.createElement(aa.a,null))}))}var Ea="specialities",ba="doctors",va="level";function ga(e){var a=e.type,t=e.payload,n=Object(b.a)().t,c=j.a.get("specialities",[]);switch(a){case va:return"\u26a0\ufe0f"+n("emergency_level_change","The case emergency level has been set to: {{level}}",{level:n("emergency_level_".concat(t))});case Ea:return t?"\u26a0\ufe0f"+n("add_new_speciality_to_case","The case specialties has been set to: {{specialities}}",{specialities:t.split(";").map((function(e){return n("".concat(te.a.get(c,"".concat(e,".key"))))})).join(", ")}):"\u26a0\ufe0f"+n("no_specialties_set");case ba:return"\u26a0\ufe0f"+n(t);default:return null}}var ha=t(574),ya=t(550),Ca=t.n(ya),ka=t(596),Oa=t(597);function ja(){var e=Object(b.a)().t,a=Object(s.g)().userId,t=Object(r.b)((function(){return function(e){var a=j.a.get("pacients",ye);return Object.values(a).map((function(e){return e.user})).filter(Boolean).find((function(a){return a.id===e}))||ye}(a)}));c.a.useEffect((function(){ke({userId:a})}),[a]);var n=Object(l.b)(t),i=n.name,o=n.initials,u=t.email,d=t.profile||{},f=d.birthdate,p=d.gender,_=d.height,E=d.weight,v=d.bloodType,y=d.knownDiseases,C=d.currentTreatment,O=d.medicalHistory,N=d.familyHistory;return c.a.createElement("div",{className:Ca.a.pacient},c.a.createElement(m.a,{size:"small",className:Ca.a.header},c.a.createElement(Ve,null),c.a.createElement("div",{className:Ca.a.title},"".concat(e("pacient"),": ").concat(a)),c.a.createElement("div",{className:Ca.a.right},c.a.createElement(g.a,{className:Ca.a.link,icon:c.a.createElement(k.a,null),onClick:function(){return h.a.push("/cases")}}),c.a.createElement(g.a,{className:Ca.a.link,icon:c.a.createElement(ee.a,null),onClick:function(){return console.log("medical records")}}))),c.a.createElement("div",{className:Ca.a.grid},c.a.createElement(m.a,{size:"small",className:Ca.a.picture},c.a.createElement(se.a,{size:128,src:Object(l.d)(t)},o)),c.a.createElement(m.a,{size:"small",className:Ca.a.medicalProfile,title:e("profile")},c.a.createElement(ma,{bordered:!0,label:[e("name"),e("email"),e("gender"),e("age"),e("height"),e("weight"),e("blood_type")],value:[i,u,e(p),f&&"".concat(W()().diff(W()(f),"years")," ").concat(e("years")),_&&"".concat(_," cm"),E&&"".concat(E," kg"),v&&e("blood_type_".concat(v))]})),c.a.createElement(m.a,{size:"small",className:Ca.a.medicalInfo,title:e("medical_info")},c.a.createElement(ma,{bordered:!0,layout:"vertical",label:[e("known_diseases"),e("current_treatment"),e("medical_history"),e("family_medical_history")],value:[e(y),e(C),e(O),e(N)]})),c.a.createElement(m.a,{size:"small",className:Ca.a.statistics,title:e("statistics")},c.a.createElement(ha.a,{title:e("pacient_risk"),value:11.28,precision:2,valueStyle:{color:Ca.a.error},prefix:c.a.createElement(ka.a,null),suffix:"%"}),c.a.createElement(ha.a,{title:e("case_rate"),value:9.3,precision:2,valueStyle:{color:Ca.a.success},prefix:c.a.createElement(Oa.a,null),suffix:"%"}))))}function Na(){var e=Object(r.b)((function(){return Object(l.h)()})).authenticated;return c.a.useEffect((function(){e&&Fe()}),[e]),c.a.createElement(S,null,c.a.createElement(s.c,null,[{path:"/forgot-password",component:V},{path:"/reset-password",component:L},!e&&[{component:R}],e&&[{path:"/",component:H,exact:!0},{path:"/pacients",component:Je,exact:!0},{path:"/pacients/:userId",component:ja,exact:!0},{path:"/cases",component:Ue,exact:!0},{path:"/cases/:medicalCaseId",component:ua,exact:!0}],{component:J}].flat().filter(Boolean).map((function(e){var a=e.path,t=e.component,n=e.exact;return c.a.createElement(s.a,{exact:n,key:t.name,path:a,component:t})}))))}}}]);