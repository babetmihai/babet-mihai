(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[8],{460:function(e,t,a){e.exports={header:"Header_header__kjYVc",button:"Header_button__1uby_",uploadInput:"Header_uploadInput__TEA67",right:"Header_right__YMniO",filter:"Header_filter__3XbeJ"}},461:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",objectEditor:"ObjectEditor_objectEditor__2IDLE",header:"ObjectEditor_header__3DujT",info:"ObjectEditor_info__14Mmt",label:"ObjectEditor_label__sopQY",dropdown:"ObjectEditor_dropdown__3ac4-",content:"ObjectEditor_content__3GWDg",iconBtn:"ObjectEditor_iconBtn__2w4rv",newKey:"ObjectEditor_newKey__tkAMt",keyInput:"ObjectEditor_keyInput__37wgv",keySelect:"ObjectEditor_keySelect__1rwcP",fadein:"ObjectEditor_fadein__3qcxC",slideIn:"ObjectEditor_slideIn__3wnjR",spin:"ObjectEditor_spin__O_toY"}},462:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",arrayEditor:"ArrayEditor_arrayEditor__3wGqp",header:"ArrayEditor_header__2xB91",info:"ArrayEditor_info__1wvOr",label:"ArrayEditor_label__1E0h_",dropdown:"ArrayEditor_dropdown__3kl4E",content:"ArrayEditor_content__pfLfZ",iconBtn:"ArrayEditor_iconBtn__2-cLB",newKey:"ArrayEditor_newKey__3Mx4o",keyInput:"ArrayEditor_keyInput__30pDS",keySelect:"ArrayEditor_keySelect__3reeK",fadein:"ArrayEditor_fadein__2TpuD",slideIn:"ArrayEditor_slideIn__20QI-",spin:"ArrayEditor_spin__39Vmw"}},463:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",inputEditor:"InputEditor_inputEditor__iuRqY",dropdown:"InputEditor_dropdown__20sXl",input:"InputEditor_input__gHylY",small:"InputEditor_small__1jJEb",medium:"InputEditor_medium__1HWkj",large:"InputEditor_large__32YX8",fadein:"InputEditor_fadein__3p5Wd",slideIn:"InputEditor_slideIn__2zUsw",spin:"InputEditor_spin__3hqUz"}},464:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",jsonEditor:"JSONEditor_jsonEditor__XkIww",content:"JSONEditor_content__1KPC8",fadein:"JSONEditor_fadein__3SKSJ",slideIn:"JSONEditor_slideIn__pkf0Z",spin:"JSONEditor_spin__1XQj9"}},469:function(e,t,a){"use strict";a.r(t);var n,r=a(54),c=a(55),l=a(57),i=a(56),o=a(58),u=a(0),s=a.n(u),d=a(19),m=a(11),p=a.n(m),v=a(25),_=a(133),E=a(48),f=a(8),b=a(358),h=a.n(b),y=a(21),j=a(7),O=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return!h.a.isNil(e)})).join(".")},g={INPUT:"input",OBJECT:"object",ARRAY:"array"},k=(n={},Object(E.a)(n,g.INPUT,""),Object(E.a)(n,g.OBJECT,{}),Object(E.a)(n,g.ARRAY,[]),n),N={name:"M34234",other:[{other:{}}],age:[123,{}],email:["test2@gmail.com","test1@gmail.com"],role:[["1231",234],"admin","user",{test:[1234,234]}],section:{name:"123",date:"2019-01-15",price:"123",weight:"123",description:"this is a textarea"}},C=h.a.debounce((function(e){f.a.set("editor.search",e)}),700,{trailing:!0}),I=function e(t){var a=t.search,n=t.key,r=void 0===n?"":n,c=t.value;switch(!0){case!h.a.isNumber(r)&&r.toString().includes(a):return c;case h.a.isArray(c):return c.map((function(t,n){return e({search:a,key:n,value:t})})).filter((function(e){return!h.a.isEmpty(e)}));case h.a.isPlainObject(c):return Object.entries(c).reduce((function(t,n){var r=Object(_.a)(n,2),c=r[0],l=r[1],i=e({search:a,key:c,value:l});return h.a.isEmpty(i)&&!h.a.isString(i)||(t[c]=i),t}),{});default:return}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,a=void 0===t?N:t,n=e.title;f.a.set("editor",{value:a,initialValue:a,title:n})},S=function(e){var t=e.path,a=e.value;f.a.set(O("editor.value",t),a)},A=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.value,n=t.name;try{r=new Blob([JSON.stringify(a,null,2)],{type:"application/json",name:n.toString()}),"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(r,a):((c=document.createElement("a")).setAttribute("href",URL.createObjectURL(r)),c.setAttribute("download",n),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c))}catch(l){Object(y.c)(Object(j.c)(l.message))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.file){e.next=3;break}return e.abrupt("return");case 3:try{(n=new FileReader).onload=function(e){try{var t=JSON.parse(e.target.result);w({value:t,title:a.name}),Object(y.d)(Object(j.c)("file.uploaded.succesfully"))}catch(n){Object(y.c)(Object(j.c)(n.message))}},n.onerror=function(e){Object(y.c)(Object(j.c)(e.message))},n.readAsText(a)}catch(r){Object(y.c)(Object(j.c)(r.message))}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=a(134),x=a(348),T=a(356),V=a(460),J=a.n(V);function P(e){var t=e.search,a=e.title,n=e.value,r=s.a.useState(t),c=Object(_.a)(r,2),l=c[0],i=c[1];return s.a.createElement(u.Fragment,null,s.a.createElement("div",{className:J.a.header},s.a.createElement(x.a,{htmlFor:"json.upload",as:"label",variant:"light",className:J.a.button},s.a.createElement("i",null,"publish")),s.a.createElement(x.a,{variant:"light",className:J.a.button,onClick:function(){return A({name:a,value:n})}},s.a.createElement("i",null,"get_app")),s.a.createElement("div",{className:J.a.right},s.a.createElement(T.a.Control,{value:l,placeholder:Object(j.c)("search.for.label"),className:J.a.filter,onChange:function(e){var t=e.target.value;i(t),C(t)}}))),s.a.createElement("input",{id:"json.upload",className:J.a.uploadInput,type:"file",onChange:function(e){var t=Object(_.a)(e.target.files,1)[0];D({file:t})}}))}var R=a(80),H=a(465),K=a(474),U=a(470),Y=a(473),F=a(466),M=a(353),L=a(461),X=a.n(L);function q(e){var t=e.label,a=e.path,n=e.value,r=e.initialValue,c=e.onDelete,l=e.onChange,i=e.onDuplicate,o=Object(R.a)(e,["label","path","value","initialValue","onDelete","onChange","onDuplicate"]),u=Object.keys(n),d=s.a.useState(),m=Object(_.a)(d,2),p=m[0],v=m[1],E=s.a.useState(""),f=Object(_.a)(E,2),b=f[0],y=f[1],N=!h.a.isNil(r)&&r!==n,C=[c&&s.a.createElement(H.a.Item,{key:"delete",onClick:c},Object(j.c)("delete")),!p&&s.a.createElement(H.a.Item,{key:"add.item",onClick:function(){return v(g.INPUT)}},Object(j.c)("add.key")),N&&s.a.createElement(H.a.Item,{key:"revert",onClick:function(){return l({path:a,value:r})}},Object(j.c)("revert")),i&&s.a.createElement(H.a.Item,{key:"duplicate",onClick:i},Object(j.c)("copy"))].filter(Boolean);return s.a.createElement(K.a,{className:X.a.objectEditor},s.a.createElement(K.a.Header,{className:X.a.header},s.a.createElement(U.a,{rootClose:!0,placement:"auto",trigger:"click",overlay:s.a.createElement(Y.a,{className:X.a.options},s.a.createElement(Y.a.Title,null,Object(j.c)("object")),s.a.createElement(Y.a.Content,null,Object(j.c)("object.description")))},s.a.createElement(x.a,{variant:"light",className:X.a.info,tabIndex:-1},s.a.createElement("i",null,"folder_open"))),s.a.createElement("div",{className:X.a.label},t),s.a.createElement(F.a,{disabled:0===C.length,className:X.a.dropdown,title:"",variant:"light"},C)),s.a.createElement("div",{className:X.a.content},u.map((function(e,t){return s.a.createElement(re,Object.assign({},o,{key:e,label:e,path:O(a,e),value:h.a.get(n,e),initialValue:h.a.get(r,e),onDelete:function(){return l({path:O(a,e)})},onChange:l}))})),p&&s.a.createElement(M.a,{className:X.a.newKey},s.a.createElement(T.a.Control,{as:"select",value:p,className:X.a.keySelect,onChange:function(e){return v(e.target.value)}},Object.values(g).map((function(e){return s.a.createElement("option",{key:e,value:e},Object(j.c)(e))}))),s.a.createElement(T.a.Control,{ref:function(e){return e&&setTimeout((function(){return e.focus()}))},value:b,placeholder:Object(j.c)("enter.key"),className:X.a.keyInput,onChange:function(e){return y(e.target.value)}}),s.a.createElement(M.a.Append,null,s.a.createElement(x.a,{variant:"outline-info",className:X.a.iconBtn,onClick:function(){y(""),v(void 0)}},s.a.createElement("i",null,"cancel")),s.a.createElement(x.a,{disabled:!b,onClick:function(){l({path:O(a,b),value:k[p]}),y(""),v(void 0)},variant:"outline-info",className:X.a.iconBtn},s.a.createElement("i",null,"save"))))))}var Q=a(362),W=a(462),z=a.n(W);function G(e){var t=e.label,a=e.path,n=e.value,r=e.onDelete,c=e.onChange,l=e.onDuplicate,i=e.initialValue,o=Object(R.a)(e,["label","path","value","onDelete","onChange","onDuplicate","initialValue"]),u=s.a.useState(),d=Object(_.a)(u,2),m=d[0],p=d[1],v=!h.a.isNil(i)&&i!==n,E=[r&&s.a.createElement(H.a.Item,{key:"delete",onClick:r},Object(j.c)("delete")),!m&&s.a.createElement(H.a.Item,{key:"add.value",onClick:function(){return p(g.INPUT)}},Object(j.c)("add.item")),v&&s.a.createElement(H.a.Item,{key:"revert",onClick:function(){return c({path:a,value:i})}},Object(j.c)("revert")),l&&s.a.createElement(H.a.Item,{key:"duplicate",onClick:l},Object(j.c)("copy"))].filter(Boolean);return s.a.createElement(K.a,{className:z.a.arrayEditor},s.a.createElement(K.a.Header,{className:z.a.header},s.a.createElement(U.a,{rootClose:!0,placement:"auto",trigger:"click",overlay:s.a.createElement(Y.a,{className:z.a.options},s.a.createElement(Y.a.Title,null,Object(j.c)("array")),s.a.createElement(Y.a.Content,null,Object(j.c)("array.description")))},s.a.createElement(x.a,{tabIndex:-1,variant:"light",className:z.a.info},s.a.createElement("i",null,"filter_none"))),s.a.createElement("div",{className:z.a.label},t),s.a.createElement(F.a,{disabled:0===E.length,className:z.a.dropdown,title:"",variant:"light"},E)),s.a.createElement("div",{className:z.a.content},n.map((function(e,t){return s.a.createElement(re,Object.assign({},o,{key:t,path:O(a,t),value:e,initialValue:h.a.get(i,t),onChange:c,onDelete:function(){return c({path:a,value:n.filter((function(t){return t!==e}))})},onDuplicate:function(){return c({path:a,value:[].concat(Object(Q.a)(n),[h.a.cloneDeep(n[t])])})}}))})),m&&s.a.createElement(M.a,{className:z.a.newKey},s.a.createElement(T.a.Control,{as:"select",ref:function(e){return e&&setTimeout((function(){return e.focus()}))},value:m,className:z.a.keySelect,onChange:function(e){return p(e.target.value)}},Object.values(g).map((function(e){return s.a.createElement("option",{key:e,value:e},Object(j.c)(e))}))),s.a.createElement(M.a.Append,null,s.a.createElement(x.a,{variant:"outline-info",className:z.a.iconBtn,onClick:function(){return p(void 0)}},s.a.createElement("i",null,"cancel")),s.a.createElement(x.a,{onClick:function(){c({path:a,value:[].concat(Object(Q.a)(n),[k[m]])}),p(void 0)},variant:"outline-info",className:z.a.iconBtn},s.a.createElement("i",null,"save"))))))}var Z=a(3),$=a.n(Z),ee=a(463),te=a.n(ee),ae=function(e){switch(!0){case e.length>20:return te.a.large;case e.length>10:return te.a.medium;default:return te.a.small}},ne=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={value:"",editing:!1},a.handleBlur=function(){a.setState({editing:!1})},a.handleFocus=function(){a.setState({editing:!0})},a.handleRevert=function(){var e=a.props,t=e.onChange,n=e.initialValue;t({path:e.path,value:n})},a.handleChange=function(e){var t=a.props.path,n=e.target.value;a.setState({value:n},(function(){return a.setValue({value:n,path:t})}))},a.setValue=h.a.debounce((function(){var e=a.props.onChange;e.apply(void 0,arguments)}),700,{trailing:!0}),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,a=e.onCount;this.setState({value:t}),a&&a()}},{key:"componentDidUpdate",value:function(e){var t=this.props.value;this.state.editing||t===e.value||this.setState({value:t})}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.initialValue,n=e.onDelete,r=e.onDuplicate,c=this.state,l=c.value,i=c.editing,o=!h.a.isNil(a)&&a!==l,u=[n&&s.a.createElement(H.a.Item,{key:"delete",onClick:n},Object(j.c)("delete")),o&&s.a.createElement(H.a.Item,{key:"revert",onClick:this.handleRevert},Object(j.c)("revert")),r&&s.a.createElement(H.a.Item,{key:"duplicate",onClick:r},Object(j.c)("copy"))].filter(Boolean);return s.a.createElement(M.a,{className:te.a.inputEditor},s.a.createElement(M.a.Prepend,null,s.a.createElement(M.a.Text,null,t)),i?s.a.createElement("input",{value:l,ref:function(e){return e&&setTimeout((function(){return e.focus()}))},variant:"secondary",onChange:this.handleChange,onBlur:this.handleBlur,className:$()("form-control",te.a.input,ae(l))}):s.a.createElement("div",{tabIndex:0,onClick:this.handleFocus,onFocus:this.handleFocus,className:$()("form-control",te.a.input,ae(l))},l),s.a.createElement(F.a,{disabled:0===u.length,className:te.a.dropdown,as:M.a.Append,title:"",variant:"outline-info"},u))}}]),t}(u.PureComponent);function re(e){var t=e.value;switch(!0){case h.a.isPlainObject(t):return s.a.createElement(q,e);case h.a.isArray(t):return s.a.createElement(G,e);case!h.a.isNil(t):return s.a.createElement(ne,e);default:return null}}var ce=a(464),le=a.n(ce),ie=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.value||w()}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.initialValue,n=e.search,r=void 0===n?"":n,c=e.title||"".concat(Object(j.c)("editor"),".json");return s.a.createElement(B.a,{loading:!t,className:le.a.jsonEditor},s.a.createElement(P,{value:t,search:r,title:c}),s.a.createElement("div",{className:le.a.content},s.a.createElement(re,{onChange:S,label:c,value:I({search:r,value:t}),initialValue:a})))}}]),t}(u.PureComponent);t.default=Object(d.b)((function(){return f.a.get("editor",{})}))(ie)}}]);