(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[8],{474:function(e,t,a){e.exports={header:"Header_header__3SXLY",button:"Header_button__215P0",uploadInput:"Header_uploadInput__2h_6a",right:"Header_right__Yvf4f",filter:"Header_filter__ljI2s"}},475:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",objectEditor:"ObjectEditor_objectEditor__anPCg",header:"ObjectEditor_header__3tLfr",info:"ObjectEditor_info__1I-Dg",label:"ObjectEditor_label__24hNA",dropdown:"ObjectEditor_dropdown__3x1Ia",content:"ObjectEditor_content__LVXqf",iconBtn:"ObjectEditor_iconBtn__3GxbL",newKey:"ObjectEditor_newKey__L6RXI",keyInput:"ObjectEditor_keyInput__X488O",keySelect:"ObjectEditor_keySelect__2RbWT",fadein:"ObjectEditor_fadein__NsnWo",slideIn:"ObjectEditor_slideIn__3Z_5P",spin:"ObjectEditor_spin__1dAk6"}},476:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",arrayEditor:"ArrayEditor_arrayEditor__3XA_J",header:"ArrayEditor_header__3_59G",info:"ArrayEditor_info__1D-iN",label:"ArrayEditor_label__3cH_J",dropdown:"ArrayEditor_dropdown__1Op4G",content:"ArrayEditor_content__321Xx",iconBtn:"ArrayEditor_iconBtn__2Xfgr",newKey:"ArrayEditor_newKey__3iMNa",keyInput:"ArrayEditor_keyInput__HVfpW",keySelect:"ArrayEditor_keySelect__3WwCj",fadein:"ArrayEditor_fadein__2bOOM",slideIn:"ArrayEditor_slideIn__3Srfl",spin:"ArrayEditor_spin__1fnf9"}},477:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",inputEditor:"InputEditor_inputEditor__3Kf4n",dropdown:"InputEditor_dropdown__3vCQQ",input:"InputEditor_input__3tkJ8",small:"InputEditor_small__zRQ8T",medium:"InputEditor_medium__3VYpi",large:"InputEditor_large__DBMRo",fadein:"InputEditor_fadein__1n7dT",slideIn:"InputEditor_slideIn__2tgiF",spin:"InputEditor_spin__1afme"}},478:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",jsonEditor:"JSONEditor_jsonEditor__2D7JE",content:"JSONEditor_content__3FqRZ",fadein:"JSONEditor_fadein__21Mpy",slideIn:"JSONEditor_slideIn__3qJrm",spin:"JSONEditor_spin__3XZmq"}},486:function(e,t,a){"use strict";a.r(t);var n,r=a(55),l=a(56),c=a(58),i=a(57),o=a(0),u=a.n(o),s=a(19),d=a(11),m=a.n(d),p=a(28),f=a(136),_=a(50),v=a(8),E=a(363),b=a.n(E),h=a(21),y=a(6),O=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return!b.a.isNil(e)})).join(".")},j={INPUT:"input",OBJECT:"object",ARRAY:"array"},g=(n={},Object(_.a)(n,j.INPUT,""),Object(_.a)(n,j.OBJECT,{}),Object(_.a)(n,j.ARRAY,[]),n),k={name:"M34234",other:[{other:{}}],age:[123,{}],email:["test2@gmail.com","test1@gmail.com"],role:[["1231",234],"admin","user",{test:[1234,234]}],section:{name:"123",date:"2019-01-15",price:"123",weight:"123",description:"this is a textarea"}},N=b.a.debounce((function(e){v.a.set("editor.search",e)}),700,{trailing:!0}),C=function e(t){var a=t.search,n=t.key,r=void 0===n?"":n,l=t.value;switch(!0){case!b.a.isNumber(r)&&r.toString().includes(a):return l;case b.a.isArray(l):return l.map((function(t,n){return e({search:a,key:n,value:t})})).filter((function(e){return!b.a.isEmpty(e)}));case b.a.isPlainObject(l):return Object.entries(l).reduce((function(t,n){var r=Object(f.a)(n,2),l=r[0],c=r[1],i=e({search:a,key:l,value:c});return b.a.isEmpty(i)&&!b.a.isString(i)||(t[l]=i),t}),{});default:return}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,a=void 0===t?k:t,n=e.title;v.a.set("editor",{value:a,initialValue:a,title:n})},w=function(e){var t=e.path,a=e.value;v.a.set(O("editor.value",t),a)},A=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.value,n=t.name;try{r=new Blob([JSON.stringify(a,null,2)],{type:"application/json",name:n.toString()}),"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(r,a):((l=document.createElement("a")).setAttribute("href",URL.createObjectURL(r)),l.setAttribute("download",n),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l))}catch(c){Object(h.c)(Object(y.c)(c.message))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.file){e.next=3;break}return e.abrupt("return");case 3:try{(n=new FileReader).onload=function(e){try{var t=JSON.parse(e.target.result);I({value:t,title:a.name}),Object(h.d)(Object(y.c)("file.uploaded.succesfully"))}catch(n){Object(h.c)(Object(y.c)(n.message))}},n.onerror=function(e){Object(h.c)(Object(y.c)(e.message))},n.readAsText(a)}catch(r){Object(h.c)(Object(y.c)(r.message))}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=a(137),B=a(352),x=a(360),J=a(474),T=a.n(J);function V(e){var t=e.search,a=e.title,n=e.value,r=u.a.useState(t),l=Object(f.a)(r,2),c=l[0],i=l[1];return u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:T.a.header},u.a.createElement(B.a,{htmlFor:"json.upload",as:"label",variant:"light",className:T.a.button},u.a.createElement("i",null,"publish")),u.a.createElement(B.a,{variant:"light",className:T.a.button,onClick:function(){return A({name:a,value:n})}},u.a.createElement("i",null,"get_app")),u.a.createElement("div",{className:T.a.right},u.a.createElement(x.a.Control,{value:c,placeholder:Object(y.c)("search.for.label"),className:T.a.filter,onChange:function(e){var t=e.target.value;i(t),N(t)}}))),u.a.createElement("input",{id:"json.upload",className:T.a.uploadInput,type:"file",onChange:function(e){var t=Object(f.a)(e.target.files,1)[0];S({file:t})}}))}var R=a(79),P=a(479),F=a(491),H=a(489),X=a(490),K=a(483),L=a(357),M=a(475),U=a.n(M);function Y(e){var t=e.label,a=e.path,n=e.value,r=e.initialValue,l=e.onDelete,c=e.onChange,i=e.onDuplicate,o=Object(R.a)(e,["label","path","value","initialValue","onDelete","onChange","onDuplicate"]),s=Object.keys(n),d=u.a.useState(),m=Object(f.a)(d,2),p=m[0],_=m[1],v=u.a.useState(""),E=Object(f.a)(v,2),h=E[0],k=E[1],N=!b.a.isNil(r)&&r!==n,C=[l&&u.a.createElement(P.a.Item,{key:"delete",onClick:l},Object(y.c)("delete")),!p&&u.a.createElement(P.a.Item,{key:"add.item",onClick:function(){return _(j.INPUT)}},Object(y.c)("add.key")),N&&u.a.createElement(P.a.Item,{key:"revert",onClick:function(){return c({path:a,value:r})}},Object(y.c)("revert")),i&&u.a.createElement(P.a.Item,{key:"duplicate",onClick:i},Object(y.c)("copy"))].filter(Boolean);return u.a.createElement(F.a,{className:U.a.objectEditor},u.a.createElement(F.a.Header,{className:U.a.header},u.a.createElement(H.a,{rootClose:!0,placement:"auto",trigger:"click",overlay:u.a.createElement(X.a,{className:U.a.options},u.a.createElement(X.a.Title,null,Object(y.c)("object")),u.a.createElement(X.a.Content,null,Object(y.c)("object.description")))},u.a.createElement(B.a,{variant:"light",className:U.a.info,tabIndex:-1},u.a.createElement("i",null,"folder_open"))),u.a.createElement("div",{className:U.a.label},t),u.a.createElement(K.a,{disabled:0===C.length,className:U.a.dropdown,title:"",variant:"light"},C)),u.a.createElement("div",{className:U.a.content},s.map((function(e,t){return u.a.createElement(ne,Object.assign({},o,{key:e,label:e,path:O(a,e),value:b.a.get(n,e),initialValue:b.a.get(r,e),onDelete:function(){return c({path:O(a,e)})},onChange:c}))})),p&&u.a.createElement(L.a,{className:U.a.newKey},u.a.createElement(x.a.Control,{as:"select",value:p,className:U.a.keySelect,onChange:function(e){return _(e.target.value)}},Object.values(j).map((function(e){return u.a.createElement("option",{key:e,value:e},Object(y.c)(e))}))),u.a.createElement(x.a.Control,{ref:function(e){return e&&setTimeout((function(){return e.focus()}))},value:h,placeholder:Object(y.c)("enter.key"),className:U.a.keyInput,onChange:function(e){return k(e.target.value)}}),u.a.createElement(L.a.Append,null,u.a.createElement(B.a,{variant:"outline-info",className:U.a.iconBtn,onClick:function(){k(""),_(void 0)}},u.a.createElement("i",null,"cancel")),u.a.createElement(B.a,{disabled:!h,onClick:function(){c({path:O(a,h),value:g[p]}),k(""),_(void 0)},variant:"outline-info",className:U.a.iconBtn},u.a.createElement("i",null,"save"))))))}var q=a(367),W=a(476),G=a.n(W);function Q(e){var t=e.label,a=e.path,n=e.value,r=e.onDelete,l=e.onChange,c=e.onDuplicate,i=e.initialValue,o=Object(R.a)(e,["label","path","value","onDelete","onChange","onDuplicate","initialValue"]),s=u.a.useState(),d=Object(f.a)(s,2),m=d[0],p=d[1],_=!b.a.isNil(i)&&i!==n,v=[r&&u.a.createElement(P.a.Item,{key:"delete",onClick:r},Object(y.c)("delete")),!m&&u.a.createElement(P.a.Item,{key:"add.value",onClick:function(){return p(j.INPUT)}},Object(y.c)("add.item")),_&&u.a.createElement(P.a.Item,{key:"revert",onClick:function(){return l({path:a,value:i})}},Object(y.c)("revert")),c&&u.a.createElement(P.a.Item,{key:"duplicate",onClick:c},Object(y.c)("copy"))].filter(Boolean);return u.a.createElement(F.a,{className:G.a.arrayEditor},u.a.createElement(F.a.Header,{className:G.a.header},u.a.createElement(H.a,{rootClose:!0,placement:"auto",trigger:"click",overlay:u.a.createElement(X.a,{className:G.a.options},u.a.createElement(X.a.Title,null,Object(y.c)("array")),u.a.createElement(X.a.Content,null,Object(y.c)("array.description")))},u.a.createElement(B.a,{tabIndex:-1,variant:"light",className:G.a.info},u.a.createElement("i",null,"filter_none"))),u.a.createElement("div",{className:G.a.label},t),u.a.createElement(K.a,{disabled:0===v.length,className:G.a.dropdown,title:"",variant:"light"},v)),u.a.createElement("div",{className:G.a.content},n.map((function(e,t){return u.a.createElement(ne,Object.assign({},o,{key:t,path:O(a,t),value:e,initialValue:b.a.get(i,t),onChange:l,onDelete:function(){return l({path:a,value:n.filter((function(t){return t!==e}))})},onDuplicate:function(){return l({path:a,value:[].concat(Object(q.a)(n),[b.a.cloneDeep(n[t])])})}}))})),m&&u.a.createElement(L.a,{className:G.a.newKey},u.a.createElement(x.a.Control,{as:"select",ref:function(e){return e&&setTimeout((function(){return e.focus()}))},value:m,className:G.a.keySelect,onChange:function(e){return p(e.target.value)}},Object.values(j).map((function(e){return u.a.createElement("option",{key:e,value:e},Object(y.c)(e))}))),u.a.createElement(L.a.Append,null,u.a.createElement(B.a,{variant:"outline-info",className:G.a.iconBtn,onClick:function(){return p(void 0)}},u.a.createElement("i",null,"cancel")),u.a.createElement(B.a,{onClick:function(){l({path:a,value:[].concat(Object(q.a)(n),[g[m]])}),p(void 0)},variant:"outline-info",className:G.a.iconBtn},u.a.createElement("i",null,"save"))))))}var Z=a(3),z=a.n(Z),$=a(477),ee=a.n($),te=function(e){switch(!0){case e.length>20:return ee.a.large;case e.length>10:return ee.a.medium;default:return ee.a.small}},ae=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={value:"",editing:!1},e.handleBlur=function(){e.setState({editing:!1})},e.handleFocus=function(){e.setState({editing:!0})},e.handleRevert=function(){var t=e.props,a=t.onChange,n=t.initialValue;a({path:t.path,value:n})},e.handleChange=function(t){var a=e.props.path,n=t.target.value;e.setState({value:n},(function(){return e.setValue({value:n,path:a})}))},e.setValue=b.a.debounce((function(){var t=e.props.onChange;t.apply(void 0,arguments)}),700,{trailing:!0}),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,a=e.onCount;this.setState({value:t}),a&&a()}},{key:"componentDidUpdate",value:function(e){var t=this.props.value;this.state.editing||t===e.value||this.setState({value:t})}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.initialValue,n=e.onDelete,r=e.onDuplicate,l=this.state,c=l.value,i=l.editing,o=!b.a.isNil(a)&&a!==c,s=[n&&u.a.createElement(P.a.Item,{key:"delete",onClick:n},Object(y.c)("delete")),o&&u.a.createElement(P.a.Item,{key:"revert",onClick:this.handleRevert},Object(y.c)("revert")),r&&u.a.createElement(P.a.Item,{key:"duplicate",onClick:r},Object(y.c)("copy"))].filter(Boolean);return u.a.createElement(L.a,{className:ee.a.inputEditor},u.a.createElement(L.a.Prepend,null,u.a.createElement(L.a.Text,null,t)),i?u.a.createElement("input",{value:c,ref:function(e){return e&&setTimeout((function(){return e.focus()}))},variant:"secondary",onChange:this.handleChange,onBlur:this.handleBlur,className:z()("form-control",ee.a.input,te(c))}):u.a.createElement("div",{tabIndex:0,onClick:this.handleFocus,onFocus:this.handleFocus,className:z()("form-control",ee.a.input,te(c))},c),u.a.createElement(K.a,{disabled:0===s.length,className:ee.a.dropdown,as:L.a.Append,title:"",variant:"outline-info"},s))}}]),a}(o.PureComponent);function ne(e){var t=e.value;switch(!0){case b.a.isPlainObject(t):return u.a.createElement(Y,e);case b.a.isArray(t):return u.a.createElement(Q,e);case!b.a.isNil(t):return u.a.createElement(ae,e);default:return null}}var re=a(478),le=a.n(re),ce=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.value||I()}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.initialValue,n=e.search,r=void 0===n?"":n,l=e.title||"".concat(Object(y.c)("editor"),".json");return u.a.createElement(D.a,{loading:!t,className:le.a.jsonEditor},u.a.createElement(V,{value:t,search:r,title:l}),u.a.createElement("div",{className:le.a.content},u.a.createElement(ne,{onChange:w,label:l,value:C({search:r,value:t}),initialValue:a})))}}]),a}(o.PureComponent);t.default=Object(s.b)((function(){return v.a.get("editor",{})}))(ce)}}]);