(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[8],{482:function(e,t,a){e.exports={header:"Header_header__3SXLY",button:"Header_button__215P0",uploadInput:"Header_uploadInput__2h_6a",right:"Header_right__Yvf4f",filter:"Header_filter__ljI2s"}},483:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",objectEditor:"ObjectEditor_objectEditor__anPCg",header:"ObjectEditor_header__3tLfr",info:"ObjectEditor_info__1I-Dg",label:"ObjectEditor_label__24hNA",dropdown:"ObjectEditor_dropdown__3x1Ia",content:"ObjectEditor_content__LVXqf",iconBtn:"ObjectEditor_iconBtn__3GxbL",newKey:"ObjectEditor_newKey__L6RXI",keyInput:"ObjectEditor_keyInput__X488O",keySelect:"ObjectEditor_keySelect__2RbWT",fadein:"ObjectEditor_fadein__NsnWo",slideIn:"ObjectEditor_slideIn__3Z_5P",spin:"ObjectEditor_spin__1dAk6"}},484:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",arrayEditor:"ArrayEditor_arrayEditor__3XA_J",header:"ArrayEditor_header__3_59G",info:"ArrayEditor_info__1D-iN",label:"ArrayEditor_label__3cH_J",dropdown:"ArrayEditor_dropdown__1Op4G",content:"ArrayEditor_content__321Xx",iconBtn:"ArrayEditor_iconBtn__2Xfgr",newKey:"ArrayEditor_newKey__3iMNa",keyInput:"ArrayEditor_keyInput__HVfpW",keySelect:"ArrayEditor_keySelect__3WwCj",fadein:"ArrayEditor_fadein__2bOOM",slideIn:"ArrayEditor_slideIn__3Srfl",spin:"ArrayEditor_spin__1fnf9"}},485:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",inputEditor:"InputEditor_inputEditor__3Kf4n",dropdown:"InputEditor_dropdown__3vCQQ",input:"InputEditor_input__3tkJ8",small:"InputEditor_small__zRQ8T",medium:"InputEditor_medium__3VYpi",large:"InputEditor_large__DBMRo",fadein:"InputEditor_fadein__1n7dT",slideIn:"InputEditor_slideIn__2tgiF",spin:"InputEditor_spin__1afme"}},486:function(e,t,a){e.exports={primary:"#24292e",secondary:"#e36209",success:"#28a745",danger:"#c33",border:"#e1e4e8",jsonEditor:"JSONEditor_jsonEditor__2D7JE",content:"JSONEditor_content__3FqRZ",fadein:"JSONEditor_fadein__21Mpy",slideIn:"JSONEditor_slideIn__3qJrm",spin:"JSONEditor_spin__3XZmq"}},495:function(e,t,a){"use strict";a.r(t);var n,r=a(56),l=a(57),c=a(59),i=a(58),o=a(60),u=a(0),s=a.n(u),d=a(21),m=a(12),p=a.n(m),f=a(27),_=a(137),v=a(50),b=a(9),E=a(363),h=a.n(E),y=a(23),O=a(8),j=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return!h.a.isNil(e)})).join(".")},g={INPUT:"input",OBJECT:"object",ARRAY:"array"},k=(n={},Object(v.a)(n,g.INPUT,""),Object(v.a)(n,g.OBJECT,{}),Object(v.a)(n,g.ARRAY,[]),n),N={name:"M34234",other:[{other:{}}],age:[123,{}],email:["test2@gmail.com","test1@gmail.com"],role:[["1231",234],"admin","user",{test:[1234,234]}],section:{name:"123",date:"2019-01-15",price:"123",weight:"123",description:"this is a textarea"}},C=h.a.debounce((function(e){b.a.set("editor.search",e)}),700,{trailing:!0}),I=function e(t){var a=t.search,n=t.key,r=void 0===n?"":n,l=t.value;switch(!0){case!h.a.isNumber(r)&&r.toString().includes(a):return l;case h.a.isArray(l):return l.map((function(t,n){return e({search:a,key:n,value:t})})).filter((function(e){return!h.a.isEmpty(e)}));case h.a.isPlainObject(l):return Object.entries(l).reduce((function(t,n){var r=Object(_.a)(n,2),l=r[0],c=r[1],i=e({search:a,key:l,value:c});return h.a.isEmpty(i)&&!h.a.isString(i)||(t[l]=i),t}),{});default:return}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,a=void 0===t?N:t,n=e.title;b.a.set("editor",{value:a,initialValue:a,title:n})},A=function(e){var t=e.path,a=e.value;b.a.set(j("editor.value",t),a)},S=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.value,n=t.name;try{r=new Blob([JSON.stringify(a,null,2)],{type:"application/json",name:n.toString()}),"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(r,a):((l=document.createElement("a")).setAttribute("href",URL.createObjectURL(r)),l.setAttribute("download",n),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l))}catch(c){Object(y.c)(Object(O.c)(c.message))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.file){e.next=3;break}return e.abrupt("return");case 3:try{(n=new FileReader).onload=function(e){try{var t=JSON.parse(e.target.result);w({value:t,title:a.name}),Object(y.d)(Object(O.c)("file.uploaded.succesfully"))}catch(n){Object(y.c)(Object(O.c)(n.message))}},n.onerror=function(e){Object(y.c)(Object(O.c)(e.message))},n.readAsText(a)}catch(r){Object(y.c)(Object(O.c)(r.message))}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=a(138),x=a(351),J=a(359),T=a(482),V=a.n(T);function R(e){var t=e.search,a=e.title,n=e.value,r=s.a.useState(t),l=Object(_.a)(r,2),c=l[0],i=l[1];return s.a.createElement(u.Fragment,null,s.a.createElement("div",{className:V.a.header},s.a.createElement(x.a,{htmlFor:"json.upload",as:"label",variant:"light",className:V.a.button},s.a.createElement("i",null,"publish")),s.a.createElement(x.a,{variant:"light",className:V.a.button,onClick:function(){return S({name:a,value:n})}},s.a.createElement("i",null,"get_app")),s.a.createElement("div",{className:V.a.right},s.a.createElement(J.a.Control,{value:c,placeholder:Object(O.c)("search.for.label"),className:V.a.filter,onChange:function(e){var t=e.target.value;i(t),C(t)}}))),s.a.createElement("input",{id:"json.upload",className:V.a.uploadInput,type:"file",onChange:function(e){var t=Object(_.a)(e.target.files,1)[0];D({file:t})}}))}var P=a(82),F=a(487),H=a(500),X=a(497),K=a(499),L=a(492),M=a(356),U=a(483),Y=a.n(U);function q(e){var t=e.label,a=e.path,n=e.value,r=e.initialValue,l=e.onDelete,c=e.onChange,i=e.onDuplicate,o=Object(P.a)(e,["label","path","value","initialValue","onDelete","onChange","onDuplicate"]),u=Object.keys(n),d=s.a.useState(),m=Object(_.a)(d,2),p=m[0],f=m[1],v=s.a.useState(""),b=Object(_.a)(v,2),E=b[0],y=b[1],N=!h.a.isNil(r)&&r!==n,C=[l&&s.a.createElement(F.a.Item,{key:"delete",onClick:l},Object(O.c)("delete")),!p&&s.a.createElement(F.a.Item,{key:"add.item",onClick:function(){return f(g.INPUT)}},Object(O.c)("add.key")),N&&s.a.createElement(F.a.Item,{key:"revert",onClick:function(){return c({path:a,value:r})}},Object(O.c)("revert")),i&&s.a.createElement(F.a.Item,{key:"duplicate",onClick:i},Object(O.c)("copy"))].filter(Boolean);return s.a.createElement(H.a,{className:Y.a.objectEditor},s.a.createElement(H.a.Header,{className:Y.a.header},s.a.createElement(X.a,{rootClose:!0,placement:"auto",trigger:"click",overlay:s.a.createElement(K.a,{className:Y.a.options},s.a.createElement(K.a.Title,null,Object(O.c)("object")),s.a.createElement(K.a.Content,null,Object(O.c)("object.description")))},s.a.createElement(x.a,{variant:"light",className:Y.a.info,tabIndex:-1},s.a.createElement("i",null,"folder_open"))),s.a.createElement("div",{className:Y.a.label},t),s.a.createElement(L.a,{disabled:0===C.length,className:Y.a.dropdown,title:"",variant:"light"},C)),s.a.createElement("div",{className:Y.a.content},u.map((function(e,t){return s.a.createElement(re,Object.assign({},o,{key:e,label:e,path:j(a,e),value:h.a.get(n,e),initialValue:h.a.get(r,e),onDelete:function(){return c({path:j(a,e)})},onChange:c}))})),p&&s.a.createElement(M.a,{className:Y.a.newKey},s.a.createElement(J.a.Control,{as:"select",value:p,className:Y.a.keySelect,onChange:function(e){return f(e.target.value)}},Object.values(g).map((function(e){return s.a.createElement("option",{key:e,value:e},Object(O.c)(e))}))),s.a.createElement(J.a.Control,{ref:function(e){return e&&setTimeout((function(){return e.focus()}))},value:E,placeholder:Object(O.c)("enter.key"),className:Y.a.keyInput,onChange:function(e){return y(e.target.value)}}),s.a.createElement(M.a.Append,null,s.a.createElement(x.a,{variant:"outline-info",className:Y.a.iconBtn,onClick:function(){y(""),f(void 0)}},s.a.createElement("i",null,"cancel")),s.a.createElement(x.a,{disabled:!E,onClick:function(){c({path:j(a,E),value:k[p]}),y(""),f(void 0)},variant:"outline-info",className:Y.a.iconBtn},s.a.createElement("i",null,"save"))))))}var W=a(372),G=a(484),Q=a.n(G);function Z(e){var t=e.label,a=e.path,n=e.value,r=e.onDelete,l=e.onChange,c=e.onDuplicate,i=e.initialValue,o=Object(P.a)(e,["label","path","value","onDelete","onChange","onDuplicate","initialValue"]),u=s.a.useState(),d=Object(_.a)(u,2),m=d[0],p=d[1],f=!h.a.isNil(i)&&i!==n,v=[r&&s.a.createElement(F.a.Item,{key:"delete",onClick:r},Object(O.c)("delete")),!m&&s.a.createElement(F.a.Item,{key:"add.value",onClick:function(){return p(g.INPUT)}},Object(O.c)("add.item")),f&&s.a.createElement(F.a.Item,{key:"revert",onClick:function(){return l({path:a,value:i})}},Object(O.c)("revert")),c&&s.a.createElement(F.a.Item,{key:"duplicate",onClick:c},Object(O.c)("copy"))].filter(Boolean);return s.a.createElement(H.a,{className:Q.a.arrayEditor},s.a.createElement(H.a.Header,{className:Q.a.header},s.a.createElement(X.a,{rootClose:!0,placement:"auto",trigger:"click",overlay:s.a.createElement(K.a,{className:Q.a.options},s.a.createElement(K.a.Title,null,Object(O.c)("array")),s.a.createElement(K.a.Content,null,Object(O.c)("array.description")))},s.a.createElement(x.a,{tabIndex:-1,variant:"light",className:Q.a.info},s.a.createElement("i",null,"filter_none"))),s.a.createElement("div",{className:Q.a.label},t),s.a.createElement(L.a,{disabled:0===v.length,className:Q.a.dropdown,title:"",variant:"light"},v)),s.a.createElement("div",{className:Q.a.content},n.map((function(e,t){return s.a.createElement(re,Object.assign({},o,{key:t,path:j(a,t),value:e,initialValue:h.a.get(i,t),onChange:l,onDelete:function(){return l({path:a,value:n.filter((function(t){return t!==e}))})},onDuplicate:function(){return l({path:a,value:[].concat(Object(W.a)(n),[h.a.cloneDeep(n[t])])})}}))})),m&&s.a.createElement(M.a,{className:Q.a.newKey},s.a.createElement(J.a.Control,{as:"select",ref:function(e){return e&&setTimeout((function(){return e.focus()}))},value:m,className:Q.a.keySelect,onChange:function(e){return p(e.target.value)}},Object.values(g).map((function(e){return s.a.createElement("option",{key:e,value:e},Object(O.c)(e))}))),s.a.createElement(M.a.Append,null,s.a.createElement(x.a,{variant:"outline-info",className:Q.a.iconBtn,onClick:function(){return p(void 0)}},s.a.createElement("i",null,"cancel")),s.a.createElement(x.a,{onClick:function(){l({path:a,value:[].concat(Object(W.a)(n),[k[m]])}),p(void 0)},variant:"outline-info",className:Q.a.iconBtn},s.a.createElement("i",null,"save"))))))}var z=a(2),$=a.n(z),ee=a(485),te=a.n(ee),ae=function(e){switch(!0){case e.length>20:return te.a.large;case e.length>10:return te.a.medium;default:return te.a.small}},ne=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={value:"",editing:!1},a.handleBlur=function(){a.setState({editing:!1})},a.handleFocus=function(){a.setState({editing:!0})},a.handleRevert=function(){var e=a.props,t=e.onChange,n=e.initialValue;t({path:e.path,value:n})},a.handleChange=function(e){var t=a.props.path,n=e.target.value;a.setState({value:n},(function(){return a.setValue({value:n,path:t})}))},a.setValue=h.a.debounce((function(){var e=a.props.onChange;e.apply(void 0,arguments)}),700,{trailing:!0}),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,a=e.onCount;this.setState({value:t}),a&&a()}},{key:"componentDidUpdate",value:function(e){var t=this.props.value;this.state.editing||t===e.value||this.setState({value:t})}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.initialValue,n=e.onDelete,r=e.onDuplicate,l=this.state,c=l.value,i=l.editing,o=!h.a.isNil(a)&&a!==c,u=[n&&s.a.createElement(F.a.Item,{key:"delete",onClick:n},Object(O.c)("delete")),o&&s.a.createElement(F.a.Item,{key:"revert",onClick:this.handleRevert},Object(O.c)("revert")),r&&s.a.createElement(F.a.Item,{key:"duplicate",onClick:r},Object(O.c)("copy"))].filter(Boolean);return s.a.createElement(M.a,{className:te.a.inputEditor},s.a.createElement(M.a.Prepend,null,s.a.createElement(M.a.Text,null,t)),i?s.a.createElement("input",{value:c,ref:function(e){return e&&setTimeout((function(){return e.focus()}))},variant:"secondary",onChange:this.handleChange,onBlur:this.handleBlur,className:$()("form-control",te.a.input,ae(c))}):s.a.createElement("div",{tabIndex:0,onClick:this.handleFocus,onFocus:this.handleFocus,className:$()("form-control",te.a.input,ae(c))},c),s.a.createElement(L.a,{disabled:0===u.length,className:te.a.dropdown,as:M.a.Append,title:"",variant:"outline-info"},u))}}]),t}(u.PureComponent);function re(e){var t=e.value;switch(!0){case h.a.isPlainObject(t):return s.a.createElement(q,e);case h.a.isArray(t):return s.a.createElement(Z,e);case!h.a.isNil(t):return s.a.createElement(ne,e);default:return null}}var le=a(486),ce=a.n(le),ie=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value||w()}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.initialValue,n=e.search,r=void 0===n?"":n,l=e.title||"".concat(Object(O.c)("editor"),".json");return s.a.createElement(B.a,{loading:!t,className:ce.a.jsonEditor},s.a.createElement(R,{value:t,search:r,title:l}),s.a.createElement("div",{className:ce.a.content},s.a.createElement(re,{onChange:A,label:l,value:I({search:r,value:t}),initialValue:a})))}}]),t}(u.PureComponent);t.default=Object(d.b)((function(){return b.a.get("editor",{})}))(ie)}}]);